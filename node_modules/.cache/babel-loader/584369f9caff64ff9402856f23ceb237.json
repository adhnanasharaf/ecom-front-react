{"ast":null,"code":"import _defineProperty from\"/Users/adhnanasharaf/Projects/React/ecommerse/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/adhnanasharaf/Projects/React/ecommerse/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/adhnanasharaf/Projects/React/ecommerse/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/adhnanasharaf/Projects/React/ecommerse/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/adhnanasharaf/Projects/React/ecommerse/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Form,Button}from\"react-bootstrap\";import withContext from\"../withContext\";import{Route,Redirect}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleChange=function(e){var _this$setState;return _this.setState((_this$setState={},_defineProperty(_this$setState,e.target.name,e.target.value),_defineProperty(_this$setState,\"error\",\"\"),_this$setState));};_this.login=function(e){e.preventDefault();var _this$state=_this.state,username=_this$state.username,password=_this$state.password;console.log(username,password);if(!username||!password){console.log(\"fill the form\");return _this.setState({error:\"fill the required fields\"});}_this.props.context.login(username,password).then(function(loggedIn){if(!loggedIn){_this.setState({error:\"Invalid credentials\"});}else{}});};_this.state={username:\"\",password:\"\"};return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){console.log(this.props.context.user);console.log(this.props.context.products);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:this.login,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{onChange:this.handleChange,name:\"username\",type:\"email\",placeholder:\"Enter email\"}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{onChange:this.handleChange,name:\"password\",type:\"password\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})]})});}}]);return Login;}(Component);export default withContext(Login);","map":{"version":3,"sources":["/Users/adhnanasharaf/Projects/React/ecommerse/client/src/components/Login.js"],"names":["React","Component","Form","Button","withContext","Route","Redirect","Login","props","handleChange","e","setState","target","name","value","login","preventDefault","state","username","password","console","log","error","context","then","loggedIn","user","products"],"mappings":"y0BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,MAAf,KAA6B,iBAA7B,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,CACA,OAASC,KAAT,CAAgBC,QAAhB,KAAgC,kBAAhC,C,gJAGMC,CAAAA,K,8FAEJ,eAAYC,KAAZ,CAAmB,uCACjB,uBAAMA,KAAN,EADiB,MAanBC,YAbmB,CAaJ,SAACC,CAAD,2BACb,OAAKC,QAAL,mDAAiBD,CAAC,CAACE,MAAF,CAASC,IAA1B,CAAiCH,CAAC,CAACE,MAAF,CAASE,KAA1C,yCAAwD,EAAxD,kBADa,EAbI,OAgBnBC,KAhBmB,CAgBX,SAACL,CAAD,CAAO,CACbA,CAAC,CAACM,cAAF,GACA,gBAA+B,MAAKC,KAApC,CAAQC,QAAR,aAAQA,QAAR,CAAkBC,QAAlB,aAAkBA,QAAlB,CACAC,OAAO,CAACC,GAAR,CAAYH,QAAZ,CAAsBC,QAAtB,EACA,GAAI,CAACD,QAAD,EAAa,CAACC,QAAlB,CAA4B,CAC1BC,OAAO,CAACC,GAAR,CAAY,eAAZ,EACA,MAAO,OAAKV,QAAL,CAAc,CAAEW,KAAK,CAAE,0BAAT,CAAd,CAAP,CACD,CACD,MAAKd,KAAL,CAAWe,OAAX,CAAmBR,KAAnB,CAAyBG,QAAzB,CAAmCC,QAAnC,EAA6CK,IAA7C,CAAkD,SAACC,QAAD,CAAc,CAC9D,GAAI,CAACA,QAAL,CAAe,CACb,MAAKd,QAAL,CAAc,CAAEW,KAAK,CAAE,qBAAT,CAAd,EACD,CAFD,IAEM,CAEL,CACF,CAND,EAOD,CA/BkB,CAEjB,MAAKL,KAAL,CAAa,CACXC,QAAQ,CAAE,EADC,CAEXC,QAAQ,CAAE,EAFC,CAAb,CAFiB,aAMlB,C,mDAED,4BAAmB,CACnBC,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWe,OAAX,CAAmBG,IAA/B,EACAN,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWe,OAAX,CAAmBI,QAA/B,EACC,C,sBAsBD,iBAAS,CACP,mBACE,sCACA,MAAC,IAAD,EAAM,QAAQ,CAAE,KAAKZ,KAArB,wBACE,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,gBAAtB,wBACE,KAAC,IAAD,CAAM,KAAN,4BADF,cAEE,KAAC,IAAD,CAAM,OAAN,EACE,QAAQ,CAAE,KAAKN,YADjB,CAEE,IAAI,CAAC,UAFP,CAGE,IAAI,CAAC,OAHP,CAIE,WAAW,CAAC,aAJd,EAFF,cAQE,KAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAC,YAArB,EARF,GADF,cAcE,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,mBAAtB,wBACE,KAAC,IAAD,CAAM,KAAN,uBADF,cAEE,KAAC,IAAD,CAAM,OAAN,EACE,QAAQ,CAAE,KAAKA,YADjB,CAEE,IAAI,CAAC,UAFP,CAGE,IAAI,CAAC,UAHP,CAIE,WAAW,CAAC,UAJd,EAFF,GAdF,cAuBE,uBACG,GADH,cAEE,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,oBAFF,GAvBF,GADA,EADF,CAkCD,C,mBAtEiBR,S,EAwEpB,cAAeG,CAAAA,WAAW,CAACG,KAAD,CAA1B","sourcesContent":["import React, { Component } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport withContext from \"../withContext\";\nimport { Route, Redirect } from \"react-router-dom\";\n\n\nclass Login extends Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n    };\n  }\n   \n  componentDidMount(){\n  console.log(this.props.context.user);\n  console.log(this.props.context.products)\n  }\n\n  handleChange = (e) =>\n    this.setState({ [e.target.name]: e.target.value, error: \"\" });\n\n  login = (e) => {\n    e.preventDefault();\n    const { username, password } = this.state;\n    console.log(username, password);\n    if (!username || !password) {\n      console.log(\"fill the form\");\n      return this.setState({ error: \"fill the required fields\" });\n    }\n    this.props.context.login(username, password).then((loggedIn) => {\n      if (!loggedIn) {\n        this.setState({ error: \"Invalid credentials\" });\n      } else{\n        \n      }\n    });\n  };\n  \n  render() {\n    return (\n      <>\n      <Form onSubmit={this.login}>\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Label>Email address</Form.Label>\n          <Form.Control\n            onChange={this.handleChange}\n            name=\"username\"\n            type=\"email\"\n            placeholder=\"Enter email\"\n          />\n          <Form.Text className=\"text-muted\">\n           \n          </Form.Text>\n        </Form.Group>\n\n        <Form.Group controlId=\"formBasicPassword\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            onChange={this.handleChange}\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n          />\n        </Form.Group>\n        <div>\n          {\" \"}\n          <Button variant=\"primary\" type=\"submit\">\n            Submit\n          </Button>\n        </div>\n      </Form>\n      </>\n    )\n  }\n}\nexport default withContext(Login);\n"]},"metadata":{},"sourceType":"module"}